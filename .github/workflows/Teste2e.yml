name: Test End to End Workflow

on: 
   push:
     branches: 
       - main
   pull_request:
     branches: 
      - main

jobs:    
       
  job1: 
   name: Trigger Job Endpoint
   runs-on: ubuntu-latest

   steps:
     - name: Checkout code
       uses: actions/checkout@v2 
      
     - name: Set up Python ${{ matrix.python-version }}
       uses: actions/setup-python@v2
       with:
        python-version: 3.8         
      
    # - name: Run script
    #   run: python e2e_test.py
       
     - name: import link
       run: |
          href=$(python e2e_test.py v2.17)
          echo "::set-output name=href::$href"
       
     - name: Download the file   
       uses: suisei-cn/actions-download-file@v1
       id: downloadfile  # Remember to give an ID if you need the output
       with:
        url: $href
        target: public/
